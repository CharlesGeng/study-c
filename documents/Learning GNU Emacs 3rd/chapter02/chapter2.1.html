<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
lang="en" xml:lang="en">
<head>
<title>2.1.移动光标</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2010-11-02 10:32:03 "/>
<meta name="author" content=""/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">

<h1 class="title">2.1.移动光标</h1>

<p>移动光标最方便的方法就是点击鼠标左键或者按箭头儿键。然而，每次都去
够鼠标比较麻烦。学会用按键移动光标，你会在Emacs里获得盲打的速度以及最高
的效率。
</p>
<p>
用Emacs指令让光标向前移动一个位置，输入 <b>C-f</b> ( <b>f</b> 表示 <b>forward</b>
)。你可能猜到了， <b>C-b</b> 向后移动一个位置。向上移动，输入 <b>C-p</b> (表示
<b>previous-line</b> )，向下移动，输入 <b>C-n</b> (表示 <b>next-line</b> )。如果你理解字
母的含义，你就很容易记住这些指令。
</p>
<p>
图2-2 说明如何使用Emcas指令上下左右移动光标。
</p>


<div class="figure">
<p><img src="../images/ge3_fig0202.gif"  alt="../images/ge3_fig0202.gif" /></p>
<p>*图2-2.基本光标移动*</p>
</div>

<p>
如果在行尾，按 <b>C-f</b> 会移动到下一行的首个字符。同样，如果在行首，
<b>C-b</b> 会移动到前一行的最后一个字符。如果没有地方可以移动，Emacs会鸣叫一
声并显示信息 <b>Beginning of buffer</b> 或者 <b>End of buffer</b> 。
</p>
<p>
<b>2.1.1其他移动光标的方法</b>
</p>
<p>
现在介绍一些更高级的移动光标的方法。一个常见的方法是按单词向前向后
移动: <b>M-f</b> 向前移动一个单词; <b>M-b</b> 向后移动一个单词。也可以移动到行首
行尾。 <b>C-a</b> 移动到行首(正如a是字母表的首字母)。 <b>C-e</b> 移动到行尾。向回
移动一句话，按 <b>M-a</b> ，向前移动一句话按 <b>M-e</b> 。向前一移动一段，按 <b>M-}</b>
;向回移动一段按 <b>M-{</b> 。如果光标在句子或段落中间，那么向回移动一句或一
段，实际上是移动到当前句子或段落的开头。
</p>
<p>
图2-3 用Victor Hugo的Les MisMisérables中的几段来演示如何每次移动光
标位置不止一个字符。
</p>


<div class="figure">
<p><img src="../images/ge3_fig0203.gif"  alt="../images/ge3_fig0203.gif" /></p>
<p>*2-3.移动光标位置不止一个字符*</p>
</div>

<p>
或许你已经领会到一个规律。注意到以 <b>Ctrl</b> 开头和以 <b>Meta</b> 开头的指
令间的区别。 <b>Ctrl</b> 指令与对应的 <b>Meta</b> 指令相比一般移动更小的单元。例
如： <b>C-b</b> 光标向前移动一个字符，而 <b>M-b</b> 光标向前移动一个单词。同样，
<b>C-a</b> 移动到行首，而 <b>M-a</b> 移动到句首。 
</p>
<p>
按行或段移动时有一个忠告。Emacs对句子的定义相当严格。除非光标在行的末
尾，否则必须在最后的标点符号后有 <i>两个</i> 空格。Emacs不识别末尾仅有一个空
格的句子。同样，向前向后移动一段包括理解Emacs对段落的定义。对Emacs而言
（同样对我们大部分人而言），段落要么用个Tab要么以一个空格开始，或者两行
之间有空白行（块风格）。你可以改变这些定义，但是首先你要理解如何使用正
则表达式，在第三章有简单介绍，第11章有更深入的讲解。第10章讨论如何修改
变量。
</p>
<p>
如果文件中有分页符，可以按 <b>C-x ]</b> ( <b>forward-page</b> ) 移动到下一页，按
<b>C-x [</b> ( <b>backward-page</b> )移动到前一页。与段落和句子的移动类似，按页移
动包含着Emacs对页的定义。名为 <b>page-delimiter</b> 的变量定义了哪些东东构成
分页符。如果没有Emacs可以识别的分页符，Emacs就认为整个缓冲区就是一个非
常长的页面。这种情况下，下翻页( <b>forward-page</b> )指令会移动到缓冲区的尾
部，上翻页( <b>backward-page</b> )指令会移动到头部。
</p>
<p>
文本模式下，分页符是一个进纸标识，告诉打印机移动到下一页（通过打印机移
动到下一页面， <b>进纸符</b> 由此而来），然后继续打印。如果在文本模式下向文
件中插入分页符，输入 <b>C-q C-l</b> (小写字母L)。 <b>C-q</b> 是引用插入指令(
<b>quoted-insert</b> )，它告诉Emacs插入一个 <b>C-l</b> 控制符到文件中，而不是解释
<b>C-l</b> 是一个重定位指令。一个 <b>C-l</b> 字符看起来像两个字符(<sup>L</sup>)，但实际上只
是一个字符。（试着用 <b>Del</b> 键删除一个，就知道是不是一个字符了。）
</p>
<p>
<b>2.1.2 一次滚动一屏（或更多）</b>
</p>
<p>
像其他图形应用程序一样，你可以使用滚动条在Emacs中移动。像Emcas中大
部分东西一样，除了用鼠标和滚动条之外，还应该学习Emacs自己的快捷键来最大
化你的工作效率。
</p>
<p>
如果你想一次移动一屏，使用 <b>PgDown</b> 键或者输入 <b>C-v</b> 。Emacs会显示下一
整页。它会在上部保留前一页的几行文字，让你想起前文内容。同样，按*M-v*
（或 <b>PgUp</b> 键）显示上一页。 <b>M-v</b> 和 <b>C-v</b> 提供了一个快速滚动的方式。
</p>
<p>
当你输入任何移动指令，移动到当前显示内容之外的位置时，Emacs都会自动滚屏。
例如：当前光标在显示内容的最后一行，然后按 <b>C-n</b> ，Emacs向下滚动。同
样，如果在显示内容的最上一行，按 <b>C-p</b> 会滚动到上一页。
</p>
<p>
你经常会想从任意位置移动到开头或结尾。输入 <b>M-&gt;</b> 或者 <b>End</b> 移动到
缓冲区尾。输入 <b>M-&lt;</b> 或 <b>Home</b> 移动到缓冲区头。 <b>&gt;</b> 指向结束位置， <b>&lt;</b>
指向开始位置，这或许有助于你记住这两个指令。
</p>
<p>
还有两个移动的方式也能派上用场。 <b>M-x goto-line Enter n Enter</b> 移动光标
到第 <i>n</i> 行。当然，Emacs是从文件开头计算行数的。同样 <b>M-x goto-char Enter n Enter</b> 移动到从文件开头计算的第 <i>n</i> 个字符。这两种情况下， <i>n</i>
表示一个数字。
</p>
<p>
对于程序员来说，这些指令是很有用的，因为很多编译器给出错误消息：Syntax
error on line 356。(第356行语法错误)。使用这些指令你可以很容易的到达错
误的位置。还有一些更复杂的方式可以将Emacs与编译器或其他程序的错误信息关
联上。此外，还有其他光标移动指令只适用于编程（见第9章详细介绍）。
</p>
<p>
<b>2.1.3 重复执行指令</b>
</p>
<p>
现在学习一些高效的技巧。Emacs可以无限次的重复执行任何指令。首先，在输入
指令前先输入 <b>M-n</b> ， <i>n</i> 表示你想重复的次数，你就可以重复执行指令 <i>n</i>
次。这个指令被称为数字参数（ <b>digit-argument</b> ）指令。
</p>
<p>
如果想执行很多次，可以给 <b>M-n</b> 一个很大的参数。例如，假如你正在编辑一个
大文档，有1000行。如果你输入 <b>M-500 C-n</b> ，光标会向下移动500行，到达文
件的中间。如果给 <b>M-n</b> 提供一个比最大可执行次数还大的参数，那么Emacs会
最大限度的重复执行指令然后停止。
</p>
<p>
还有另一个复合指令可以使用: <b>C-u</b> (全局变量指令)。你可以给 <b>C-u</b> 一个参
数和 <b>M-n</b> 的一样。即可以输入 <b>M-5</b> 也可以输入 <b>C-u 5</b> 来重复执行后面的
指令5次。但是不像 <b>M-n</b> 那样， <b>C-u</b> 可以不跟参数来重复执行指令。没有参
数时， <b>C-u</b> 执行后面的指令4次。如果输入 <b>C-u C-u</b> ，会执行16次指令。这
样你可以重复输入 <b>C-u</b> 来让指令执行多次：16，64，256等等。<sup><a class="footref" name="fnr.1" href="#fn.1">1</a></sup>
</p>
<p>
<b>2.1.4 居中显示</b>
</p>
<p>
<b>C-l</b> ，居中显示指令( <b>recenter</b> )，将当前行按垂直方向显示在正中间。当
你在显示区的上缘或下缘编辑时，这个功能就很有用。输入 <b>C-l</b> 后迅速将你关
心资料移动到显示区中间，这样就比较容易看清上下文了。
</p>
<p>
由于某种原因，显示内容被遮盖或者包括乱码， <b>C-l</b> 也会重绘显示区。但是在
用终端时就不会有这种功能，但是这是个比较方便的快捷键还是应该知道的，尤
其是当你在终端上使用远程主机的Emacs时。(感觉像刷新功能)。
</p>
<p>
表2-2 列出光标移动指令。如果指令是便于记忆的，助记单词会以斜体形式给出。
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">
<caption>*表2-2，光标移动指令*</caption>
<colgroup><col align="left" /></colgroup><colgroup><col align="left" /></colgroup><colgroup><col align="left" /></colgroup>
<thead>
<tr><th scope="col">快捷键</th><th scope="col">指令名</th><th scope="col">行为</th></tr>
</thead>
<tbody>
</tbody>
<tbody>
<tr><td>C-f</td><td>forward-char</td><td>向前移动一个字符（右）</td></tr>
</tbody>
<tbody>
<tr><td>C-b</td><td>backward-char</td><td>向后移动一个字符（左）</td></tr>
</tbody>
<tbody>
<tr><td>C-p</td><td>previous-line</td><td>移动到上一行（向上）</td></tr>
</tbody>
<tbody>
<tr><td>C-n</td><td>next-line</td><td>移动到下一行（向下）</td></tr>
</tbody>
<tbody>
<tr><td>M-f</td><td>forward-word</td><td>向前移动一个单词</td></tr>
</tbody>
<tbody>
<tr><td>M-b</td><td>backward-word</td><td>向后移动一个单词</td></tr>
</tbody>
<tbody>
<tr><td>C-a</td><td>beginning-of-line</td><td>移动到行首</td></tr>
</tbody>
<tbody>
<tr><td>C-e</td><td>end-of-line</td><td>移动到行尾</td></tr>
</tbody>
<tbody>
<tr><td>M-e</td><td>forward-sentence</td><td>向前移动一句</td></tr>
</tbody>
<tbody>
<tr><td>M-a</td><td>backward-sentence</td><td>向后移动一句</td></tr>
</tbody>
<tbody>
<tr><td>M-}</td><td>forward-paragraph</td><td>向前移动一段</td></tr>
</tbody>
<tbody>
<tr><td>M-{</td><td>backward-paragraph</td><td>向后移动一段</td></tr>
</tbody>
<tbody>
<tr><td>C-v</td><td>scroll-up</td><td>向上滚动一屏</td></tr>
</tbody>
<tbody>
<tr><td>M-v</td><td>scroll-down</td><td>向下流动一屏</td></tr>
</tbody>
<tbody>
<tr><td>C-x ]</td><td>forward-page</td><td>向前移动一页</td></tr>
</tbody>
<tbody>
<tr><td>C-x [</td><td>backward-page</td><td>向后移动一页</td></tr>
</tbody>
<tbody>
<tr><td>M-&lt;</td><td>beginning-of-buffer</td><td>移动到缓冲区头</td></tr>
</tbody>
<tbody>
<tr><td>M-&gt;</td><td>end-of-buffer</td><td>移动到缓冲区尾</td></tr>
</tbody>
<tbody>
<tr><td>(none)</td><td>goto-line</td><td>移动到指定行</td></tr>
</tbody>
<tbody>
<tr><td>(none)</td><td>goto-char</td><td>移动到指定字符</td></tr>
</tbody>
<tbody>
<tr><td>C-l</td><td>recenter</td><td>当前行居中显示</td></tr>
</tbody>
<tbody>
<tr><td>M-n</td><td>digit-argument</td><td>执行 <i>n</i> 次后面的命令</td></tr>
</tbody>
<tbody>
<tr><td>C-u n</td><td>universal-argument</td><td>执行 <i>n</i> 次后面的命令（忽略n时执行 <b>4</b> 次)</td></tr>
</tbody>
</table>


<p>
<b>2.1.5 Emacs指令和你的键盘</b>
</p>
<p>
可以通过标准键盘上处理很多Emacs的指令，比如 <b>PageDown</b> (下翻页)或
<b>Home</b> (跳到缓冲区开始位置)。图2-4显示一个键盘的布局以及键的功能。你的
键位置或许有些微区别，如果有的键具有相同的或相似的名字，就应该可以工作。
之所以说"应该"是因为有些情况下键不能工作，比如:你在一台远程主机上运行
Emacs。我们建议你学习标准Emacs指令;他们可以在任何键盘上工作，并且你一旦
学会，它们也比较容易够到。
</p>


<div class="figure">
<p><img src="../images/ge3_fig0204.gif"  alt="../images/ge3_fig0204.gif" /></p>
<p>Figure 2-4. Emacs commands and your keyboard</p>
</div>





<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">
<p class="footnote"><sup><a class="footnum" name="fn.1" href="#fnr.1">1</a></sup> 更多时候你会使用C-u。然而，它不总是以叠加的方式工作。有时C-u会改
变指令的功能。在本章的后部你会看到一个这样的情况。然而，如果做一些叠
加器可以发挥作用时，C-u就会按这种方式工作。
</p>
</div>
</div>
<div id="postamble">
<p class="author"> Author: 
<a href="mailto:qgeng@NOTEBOOK-50B5">&lt;qgeng@NOTEBOOK-50B5&gt;</a>
</p>
<p class="date"> Date: 2010-11-02 10:32:03 </p>
<p class="creator">HTML generated by org-mode 6.33x in emacs 23</p>
</div>
</div>
</body>
</html>
